<!DOCTYPE html>
<html>
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 p-4">
    <div class="flex gap-2 mb-6">
        <button onclick="showRole('driver')" class="bg-green-600 text-white px-4 py-2 rounded-full text-xs">Driver View</button>
        <button onclick="showRole('shipper')" class="bg-blue-600 text-white px-4 py-2 rounded-full text-xs">Shipper View</button>
    </div>

    <div id="main-content"></div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        function showRole(role) {
            const content = document.getElementById('main-content');
            if (role === 'driver') {
                content.innerHTML = `
                    <h1 class="text-xl font-bold mb-4">Backhaul Matches</h1>
                    <div class="bg-white p-4 rounded-xl shadow-sm border-l-4 border-green-500 mb-3">
                        <p class="text-sm font-bold">Package: 4x Rice Sacks</p>
                        <p class="text-xs text-gray-500">Pickup: City Market | Pay: $15</p>
                    </div>
                    <div class="bg-white p-4 rounded-xl shadow-sm border-l-4 border-green-500">
                        <p class="text-sm font-bold">Package: Tools Box</p>
                        <p class="text-xs text-gray-500">Pickup: Market Gate 2 | Pay: $7</p>
                    </div>
                `;
                tg.MainButton.setText("ACCEPT ALL LOADS ($22)");
                tg.MainButton.show();
            } else {
                content.innerHTML = `
                    <h1 class="text-xl font-bold mb-4">Send Goods to Village</h1>
                    <input type="text" placeholder="What are you sending?" class="w-full p-3 rounded-lg border mb-3">
                    <input type="number" placeholder="Weight (kg)" class="w-full p-3 rounded-lg border mb-3">
                    <button class="w-full bg-blue-600 text-white p-3 rounded-lg font-bold">Find Returning Truck</button>
                `;
                tg.MainButton.hide();
            }
        }
        showRole('driver'); // Default
    </script>
</body>
</html>